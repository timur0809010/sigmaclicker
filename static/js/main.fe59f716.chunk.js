(this["webpackJsonptap-game"]=this["webpackJsonptap-game"]||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(3),i=n.n(s),r=(n(12),n.p+"static/media/miner.b7d3237d.gif"),o=(n(13),n(1));var l=function(){const[e,t]=Object(c.useState)(0),[n,a]=Object(c.useState)(0),[s,i]=Object(c.useState)(null);return Object(c.useEffect)((()=>{if(window.Telegram&&window.Telegram.WebApp){const e=window.Telegram.WebApp;e.expand();const t=e.initDataUnsafe.user;t&&i(t.id)}}),[]),Object(c.useEffect)((()=>{s&&fetch(`/api/getBalance?userId=${s}`).then((e=>e.json())).then((e=>a(e.balance||0)))}),[s]),Object(c.useEffect)((()=>{const e=setInterval((()=>{t((e=>e+1))}),1e3);return()=>clearInterval(e)}),[]),Object(o.jsxs)("div",{className:"app",children:[Object(o.jsxs)("div",{className:"balance",children:["\u0411\u0430\u043b\u0430\u043d\u0441: ",n," JC"]}),Object(o.jsx)("h1",{children:"JapidorCoin Miner"}),Object(o.jsx)("div",{className:"gif-container",children:Object(o.jsx)("img",{src:r,alt:"Mining",className:"miner-gif"})}),Object(o.jsxs)("div",{className:"coins",children:["\u041d\u0430\u043a\u043e\u043f\u043b\u0435\u043d\u043d\u044b\u0435 \u043a\u043e\u0438\u043d\u044b: ",e]}),Object(o.jsx)("button",{className:"collect-button",onClick:()=>{if(!s)return;const c=n+e;fetch("/api/saveBalance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:s,balance:c})}),a(c),t(0)},children:"\u0417\u0430\u0431\u0440\u0430\u0442\u044c \u043a\u043e\u0438\u043d\u044b"})]})};var d=e=>{e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((t=>{let{getCLS:n,getFID:c,getFCP:a,getLCP:s,getTTFB:i}=t;n(e),c(e),a(e),s(e),i(e)}))};i.a.createRoot(document.getElementById("root")).render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(l,{})})),d()}},[[15,1,2]]]);
//# sourceMappingURL=main.fe59f716.chunk.js.map